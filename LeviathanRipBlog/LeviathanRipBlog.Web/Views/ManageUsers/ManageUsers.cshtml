@model LeviathanRipBlog.Web.Models.ManageUsers.ManageUserViewModel

@{
    ViewData["Title"] = "Manage Users";
}

<div>
    <div class="mt-4">
        <div class="mb-2 d-flex justify-content-md-between">
            <div class="title"> <h3> Current Users </h3> </div>
            <div class="add-user"> <button class="btn btn-primary" type="button" data-bs-toggle="modal" data-bs-target="#add-user-modal"> <i class="fa-solid fa-plus pe-2"></i> Add User </button> </div>
        </div>
    
        <div class="mb-2"> <hr /> </div>

        <div class="row">
            <div class="col">
                <table class="table table-striped table-bordered">
                    <thead>
                    <tr>
                        <th scope="col">User Id</th>
                        <th scope="col">Email</th>
                        <th scope="col" style="width: 20%;">Actions</th>
                    </tr>
                    </thead>
                    <tbody>
                        @foreach (var user in Model.Users)
                        {
                            @(await Html.PartialAsync("Shared/_UserTableRecord", user))
                        }
                    </tbody>
                </table>
            </div>
        </div>
    
    
        <div class="mb-2 d-flex justify-content-md-between pt-5">
            <div class="title"> <h3> Invited Users </h3> </div>
        </div>
        <div class="mb-2"> <hr /> </div>
    
        <div class="row">
            <div class="col">
                <table class="table table-striped table-bordered">
                    <thead>
                    <tr>
                        <th scope="col">Email</th>
                        <th scope="col">Invite Link</th>
                        <th scope="col" style="width: 20%;">Actions</th>
                    </tr>
                    </thead>
                    <tbody>
                    @foreach (var invite in @Model.Invites)
                    {
                        <tr>
                            <td>@invite.sent_to_email</td>
                            <td>@invite.InviteUrl</td>
                            <td>
                                <div class="d-flex justify-content-evenly">
                                    <button class="btn btn-danger btn-sm" type="button"> <i class="fa-solid fa-trash pe2 "></i> Revoke Invite </button>
                                </div>
                            </td>
                        </tr>
                    }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
